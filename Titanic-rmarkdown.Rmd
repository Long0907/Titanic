---
title: "Titanic"
author: "Long Zheng"
date: "12/4/2020"
output: html_document
editor_options: 
  chunk_output_type: console
---
# Luqing will work on the logistic regression part.
## __Use machine learning to create a model that predicts which passengers survived the Titanic shipwreck__


#required packages
```{r, include=FALSE}
library(tidyverse)
```

#load the trainning dataset and explore.
```{r}
train<- read_csv("dataset/train.csv")
```


```{r EDA}
#drop cabin column, because of too many missing data 687/891. 
train <- train[!colnames(train)=='Cabin']
# make sex and embarked as factor variables with levels
train<-
  train %>% 
  mutate(Sex.f = as.factor(Sex),
         Embarked.f = factor(Embarked))
#get an overview of the data
t1<-
train %>% 
  select(Survived,Pclass,Age,SibSp,Parch,Fare,Sex.f,Embarked.f) %>% 
  skimr::skim()
<<<<<<< HEAD
#too much missing data in cabin (687/891). 
=======
t1 <- data.frame(t1)


# survival distribution  
hist(train$Survived)
# age
hist(train$Age,xlab = "Age",ylab = "count", main = "")
# sex
hist(train$Sex2,xlab = "Gender(male =1)",ylab = "count", main = "")
```



>>>>>>> e8cb8a5ec472e9426e3627b920d889d758386d69


```{r univariable analysis}
univ_embk<-glm(Survived~Embarked2, family = binomial, data = train)
summary(univ_embk)
univ_Pclass<-glm(Survived~Pclass, family = binomial, data = train)
summary(univ_Pclass)
```

